<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <form id="the-form">
        <input type="file" id="postImage" />
        <button id="submit">submit</button>

    </form>
    <script>
        const input = document.getElementById('postImage');
        const upload = (formData) => {
            formData.append('files', input.files[0]);
            fetch('http://localhost:8080/user/3/uploadmultipleFiles', { //
                method: 'POST',
                headers: {
                    // "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJvbGVrIiwiZXhwIjoxNTYxNTMzMzU0fQ.-4E9yeBww5b_XXIABEaEYXTrDn7k7Q63T7PBDHt1WVxl6ZD-6iBFj1sHPvdr-yWQw89bte95l6bIYyGnEqntKw"
                },
                body: formData // This is your file object
            }).then(
                response => response.json() // if the response is a JSON object
            ).then(
                success => console.log(success) // Handle the success response object
            ).catch(
                error => console.log(error) // Handle the error response object
            );
        };
        let formData = new FormData();
        const onSelectFile = () => upload(formData);
        // input.addEventListener('change', onSelectFile);
        document.getElementById("submit").addEventListener("click",onSelectFile);
    </script>
</body>

</html>